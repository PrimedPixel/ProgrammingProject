[gd_scene load_steps=12 format=3 uid="uid://136wpbohwfdr"]

[ext_resource type="PackedScene" path="res://Scenes and Scripts/Game/MouseCursor.tscn" id="1"]
[ext_resource type="PackedScene" uid="uid://d18f4jtfxm3eo" path="res://Levels/Level.tscn" id="2"]
[ext_resource type="Script" path="res://Scenes and Scripts/Game/Game.gd" id="3"]
[ext_resource type="FontFile" uid="uid://ctqc0nr02e2tg" path="res://KennyMiniSquare.tres" id="4"]
[ext_resource type="StyleBox" path="res://EmptyUIBox.tres" id="5"]
[ext_resource type="PackedScene" uid="uid://hv3irqay4mnd" path="res://Scenes and Scripts/Game/LevelGUI.tscn" id="6"]
[ext_resource type="Script" path="res://Scenes and Scripts/Game/PauseMenu.gd" id="7"]
[ext_resource type="PackedScene" path="res://Scenes and Scripts/Menus/OptionsMenu.tscn" id="8"]
[ext_resource type="Script" path="res://Scenes and Scripts/Game/DebugMenu.gd" id="9"]

[sub_resource type="Shader" id="1"]
code = "shader_type canvas_item;

uniform vec2 camera_offset = vec2(0.0, 0.0);

void vertex()
{
	VERTEX += camera_offset;
}"

[sub_resource type="ShaderMaterial" id="2"]
shader = SubResource("1")
shader_parameter/camera_offset = Vector2(0, 0)

[node name="Game" type="Node2D"]
process_mode = 3
script = ExtResource("3")

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("2")
offset_left = -3.0
offset_top = -3.0
offset_right = 637.0
offset_bottom = 357.0
scale = Vector2(3, 3)

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
process_mode = 1
handle_input_locally = false
size = Vector2i(642, 362)
render_target_update_mode = 4

[node name="Level" parent="SubViewportContainer/SubViewport" instance=ExtResource("2")]

[node name="PauseMenu" type="Control" parent="SubViewportContainer"]
visible = false
layout_mode = 2
script = ExtResource("7")

[node name="BlackRect" type="ColorRect" parent="SubViewportContainer/PauseMenu"]
layout_mode = 0
offset_right = 642.0
offset_bottom = 362.0
color = Color(0, 0, 0, 0.588235)

[node name="FirstMenu" type="Control" parent="SubViewportContainer/PauseMenu"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="MenuContainer" type="VBoxContainer" parent="SubViewportContainer/PauseMenu/FirstMenu"]
layout_mode = 1
anchors_preset = 9
anchor_bottom = 1.0
offset_left = 1.0
offset_top = 128.0
offset_right = 641.0
offset_bottom = 148.0
grow_vertical = 2
theme_override_constants/separation = 0

[node name="Resume" type="Button" parent="SubViewportContainer/PauseMenu/FirstMenu/MenuContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Exit")
focus_neighbor_top = NodePath("../Exit")
focus_neighbor_right = NodePath("../Options")
focus_neighbor_bottom = NodePath("../Options")
focus_next = NodePath("../Options")
focus_previous = NodePath("../Exit")
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_pressed_color = Color(1, 1, 1, 1)
theme_override_colors/font_hover_color = Color(0, 1, 0.941176, 1)
theme_override_colors/font_focus_color = Color(0, 1, 0.941176, 1)
theme_override_colors/font_disabled_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("4")
theme_override_styles/normal = ExtResource("5")
theme_override_styles/hover = ExtResource("5")
theme_override_styles/pressed = ExtResource("5")
theme_override_styles/disabled = ExtResource("5")
theme_override_styles/focus = ExtResource("5")
text = "Resume"

[node name="Options" type="Button" parent="SubViewportContainer/PauseMenu/FirstMenu/MenuContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Resume")
focus_neighbor_top = NodePath("../Resume")
focus_neighbor_right = NodePath("../Exit")
focus_neighbor_bottom = NodePath("../Exit")
focus_next = NodePath("../Exit")
focus_previous = NodePath("../Resume")
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_pressed_color = Color(1, 1, 1, 1)
theme_override_colors/font_hover_color = Color(0, 1, 0.941176, 1)
theme_override_colors/font_focus_color = Color(0, 1, 0.941176, 1)
theme_override_colors/font_disabled_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("4")
theme_override_styles/normal = ExtResource("5")
theme_override_styles/hover = ExtResource("5")
theme_override_styles/pressed = ExtResource("5")
theme_override_styles/disabled = ExtResource("5")
theme_override_styles/focus = ExtResource("5")
text = "Options"

[node name="Exit" type="Button" parent="SubViewportContainer/PauseMenu/FirstMenu/MenuContainer"]
layout_mode = 2
focus_neighbor_left = NodePath("../Options")
focus_neighbor_top = NodePath("../Options")
focus_neighbor_right = NodePath("../Resume")
focus_neighbor_bottom = NodePath("../Resume")
focus_next = NodePath("../Resume")
focus_previous = NodePath("../Options")
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_pressed_color = Color(1, 1, 1, 1)
theme_override_colors/font_hover_color = Color(0, 1, 0.941176, 1)
theme_override_colors/font_focus_color = Color(0, 1, 0.941176, 1)
theme_override_colors/font_disabled_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("4")
theme_override_styles/normal = ExtResource("5")
theme_override_styles/hover = ExtResource("5")
theme_override_styles/pressed = ExtResource("5")
theme_override_styles/disabled = ExtResource("5")
theme_override_styles/focus = ExtResource("5")
text = "Exit"

[node name="OptionsMenu" parent="SubViewportContainer/PauseMenu" instance=ExtResource("8")]
anchors_preset = 0

[node name="UI" parent="." instance=ExtResource("6")]

[node name="DebugMenu" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
script = ExtResource("9")

[node name="Label" type="Label" parent="DebugMenu"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 14.0
scale = Vector2(2, 2)
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
text = "FPS:
Fullscreen:

Player Speed: 
Player State: 
Player is_colliding:

Spike Count:
Death Count:

Checkpoint Count:
Checkpoint Position:

Coin Count:
Collected Count:"

[node name="MouseCursor" parent="." instance=ExtResource("1")]
process_mode = 3
scale = Vector2(3.1, 3.1)

[connection signal="pressed" from="SubViewportContainer/PauseMenu/FirstMenu/MenuContainer/Resume" to="SubViewportContainer/PauseMenu" method="_on_Resume_pressed"]
[connection signal="pressed" from="SubViewportContainer/PauseMenu/FirstMenu/MenuContainer/Options" to="SubViewportContainer/PauseMenu" method="_on_Options_pressed"]
[connection signal="pressed" from="SubViewportContainer/PauseMenu/FirstMenu/MenuContainer/Exit" to="SubViewportContainer/PauseMenu" method="_on_Exit_pressed"]
